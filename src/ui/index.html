<html ng-app="modelReporterApp">
<head>
  <link rel="stylesheet" type="text/css" href="../lib/semantic-ui/css/semantic.css">
  <link rel="stylesheet" type="text/css" href="index.css">

  <script src="../lib/angular/angular.js"></script>
  <script src="index.js"></script>
  <script src="controllers.js"></script>
  <script src="directives.js"></script>
</head>

<body ng-controller="modelReporterCtrl">

    <div class="ui form segment">
      <file-input
        label="Previous Model"
        filename="previousModelFilename"
        dialog-options="fileDialogOptions">
      </file-input>
      <file-input
        label="Current Model"
        filename="currentModelFilename"
        dialog-options="fileDialogOptions">
      </file-input>
      <div class="ui button" ng-click="performDiff()">
        Perform Diff
      </div>
    </div>

    <div class="ui segment entity" ng-repeat="entity in versionedEntities">
      <div class="ui grid">
        <div class="sixteen wide column">
          <h3>{{entity.Id.current}}</h3>
        </div>
        <div class="sixteen wide column">
          <h4>FieldTypes:</h4>
          <div class="field" ng-repeat="field in entity.FieldTypes">
            <diff-row
              field-name="Id"
              status="field.changed"
              previous-value="field.previous.Id"
              current-value="field.current.Id">
            </diff-row>
            <diff-row
              field-name="Data Type"
              status="field.changed"
              previous-value="field.previous.DataType"
              current-value="field.current.DataType">
            </diff-row>
            <diff-row
              field-name="CVL Id"
              status="field.changed"
              previous-value="field.previous.CVLId"
              current-value="field.current.CVLId">
            </diff-row>
            <diff-row
              field-name="Category Id"
              status="field.changed"
              previous-value="field.previous.CategoryId"
              current-value="field.current.CategoryId">
            </diff-row>
            <diff-row
              field-name="Read Only"
              status="field.changed"
              previous-value="field.previous.ReadOnly"
              current-value="field.current.ReadOnly">
            </diff-row>
            <diff-row
              field-name="Hidden"
              status="field.changed"
              previous-value="field.previous.Hidden"
              current-value="field.current.Hidden">
            </diff-row>
          </div>
        </div>
      </div>
    </div>

    <pre class="ui message">{{diffResults}}</pre>

</body>

</html>
